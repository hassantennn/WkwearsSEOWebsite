import{j as e}from"./jsx-runtime-B1QxFx_A.js";import{r as o}from"./chunk-D4RADZKF-CYQil85_.js";import{M as d}from"./Money-D5nHN9tR.js";function x({children:s,heading:t,type:a}){const{type:n,close:r}=j(),i=a===n;return o.useEffect(()=>{const l=new AbortController;return i&&document.addEventListener("keydown",function(u){u.key==="Escape"&&r()},{signal:l.signal}),()=>l.abort()},[r,i]),e.jsxs("div",{"aria-modal":!0,className:`overlay ${i?"expanded":""}`,role:"dialog",children:[e.jsx("button",{className:"close-outside",onClick:r}),e.jsxs("aside",{children:[e.jsxs("header",{children:[e.jsx("h3",{children:t}),e.jsx("button",{className:"close reset",onClick:r,"aria-label":"Close",children:"×"})]}),e.jsx("main",{children:s})]})]})}const c=o.createContext(null);x.Provider=function({children:t}){const[a,n]=o.useState("closed");return e.jsx(c.Provider,{value:{type:a,open:n,close:()=>n("closed")},children:t})};function j(){const s=o.useContext(c);if(!s)throw new Error("useAside must be used within an AsideProvider");return s}function v({price:s,compareAtPrice:t}){return e.jsx("div",{className:"product-price",children:t?e.jsxs("div",{className:"product-price-on-sale",children:[s?e.jsx(d,{data:s}):null,e.jsx("s",{children:e.jsx(d,{data:t})})]}):s?e.jsx(d,{data:s}):e.jsx("span",{children:" "})})}export{x as A,v as P,j as u};
